<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name = "viewport" content = "width = device-width, initial-scale = 1.0, maximum-scale = 1.0, user-scalable=0">
<title>Spider Hexapod</title>
<style>
body{ 
background-color: #2a3e6d; 
background: radial-gradient(#f2f2f2, #919191);
font-family: Arial, Helvetica, Sans-Serif; 
color: #000000; 
}
#JD{
text-align: center;
#background-color: rgba(22, 34, 153, .5);
color: white;
font-weight: 900;
}
#JD{
text-align: center;
font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
font-size: 24px;
}
.foot{
text-align: center;
font-family: "Comic Sans MS", cursive;
font-size: 9px;
color: #F00;
}
.button{
border: none;
color: white;
padding: 20px;
text-align: center;
text-decoration: none;
display: inline-block;
font-size: 16px;
margin: 4px 2px;
cursor: pointer;
border-radius: 12px;
width: 100%;
}
.red{
background-color: #F00;
}
.green{
background-color: #090;
}
.yellow{
background-color:#F90;
}
.blue{
background-color: #03C;
}
</style>
</head>
<body onload="javascript:start();">
&nbsp;
<table width="100%"><tr><td id="JD">ITL quadruped контроллер</td></tr></table>
<table width="100" height="249" border="0" align="center">
<tr><td align="center" valign="middle"><label><button type="button" id="settings" class="button red">Настройки</button></label></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 1 1" type="button" onclick="buttonclick(this);" class="button green">&#9650;</button></label></form></td><td align="center" valign="middle"><label><button id="w 21 move"  type="button" onclick="buttonclick(this);" class="button red">Движения</button> </label></td></tr>
<tr><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 3 1" type="button" onclick="buttonclick(this);" class="button green">&#9668;</button></label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 0 1"  type="button" onclick="buttonclick(this);" class="button red">⃠</button> </label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 4 1"  type="button" onclick="buttonclick(this);" class="button green">&#9658;</button></label></form></td></tr>
<tr><td>&nbsp;</td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 2 1" type="button" onclick="buttonclick(this);" class="button green">&#9660;</button></label></form></td><td>&nbsp;</td></tr>
</table>
<table width="100" height="249" border="0" align="center">
<tr><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 5 3" type="button" onclick="buttonclick(this);" class="button yellow">Качать</button></label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 8 5"  type="button" onclick="buttonclick(this);" class="button blue">Голова вверх</button></label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 6 3"  type="button" onclick="buttonclick(this);" class="button yellow">Взмах</button></label></form></td></tr>
<tr><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 16" type="button" onclick="buttonclick(this);" class="button blue">Наклон влево</button></label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 9 5"  type="button" onclick="buttonclick(this);" class="button blue">Голова вниз</button> </label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 17"  type="button" onclick="buttonclick(this);" class="button blue">Наклон вправо</button> </label></form></td></tr>
<div>
<tr><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 11 5" type="button" onclick="buttonclick(this);" class="button blue">Влево</button> </label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 13"  type="button" onclick="buttonclick(this);" class="button blue">Вверх</button></label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 10 5"  type="button" onclick="buttonclick(this);" class="button blue">Вправо</button></label></form></td></tr>
<tr><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 20 settings" type="button" onclick="buttonclick(this);" class="button red">Закрыть клешни</button> </label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 14"  type="button" onclick="buttonclick(this);" class="button blue">Вниз</button> </label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 21 move"  type="button" onclick="buttonclick(this);" class="button red">Открыть клешни</button> </label></form></td></tr>
</table>
<table width="100" height="249" border="0" align="center">
<tr><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 12" type="button" onclick="buttonclick(this);" class="button yellow">Сервис</button> </label></form></td><td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 15"  type="button" onclick="buttonclick(this);" class="button yellow">Сбросить позицию</button> </label></form></td></tr>
</div>
<tr>
<td align="center" valign="middle">
<form name="form1" method="post" action=""><label><button id="w 0 0" type="button" onclick="buttonclick(this);" class="button yellow">Прогулка</button> </label></form></td>
<td align="center" valign="middle"><form name="form1" method="post" action="">&nbsp;</form></td>
<td align="center" valign="middle"><form name="form1" method="post" action=""><label><button id="w 7 1"  type="button" onclick="buttonclick(this);" class="button yellow">Бег</button> </label></form></td>
</tr>
</table>
<script>
var websock;
function start(){
	websock = new WebSocket('ws://' + window.location.hostname + ':81/');

	websock.onopen = function(evt){
		console.log('websock open');
	};
	websock.onclose = function(evt){
		console.log('websock close');
	};
	websock.onerror = function(evt){
		console.log(evt);
	}; 
	websock.onmessage = function(evt){
		console.log(evt);
		var e = document.getElementById('ledstatus');
		if (evt.data === 'ledon'){
			e.style.color = 'red';
		}else if(evt.data === 'ledoff'){
			e.style.color = 'black';
		}else{
			console.log('unknown event');
		}
	};
} 
function buttonclick(e){
	websock.send(e.id);
}
settings.onclick = function(){
	console.log("test");
}
move.onclick = function(){
	console.log("test1");
}
</script>
</body>
</html>